(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{249:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("Cordova has a Camera plugin that allows us to use JavaScript to take and save pictures and videos from our webpages. The plugin we need to add is:")]),t._v(" "),t._m(1),a("p",[t._v("There are not that many methods and properties to learn. However, there are a few gotchas and things to be aware of.")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("If you are working with iOS then you need to be careful about the additional permissions that are required for the plugin. See the second video below for details on this.")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-camera/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Camera Plugin Reference"),a("OutboundLink")],1)]),t._v(" "),a("YouTube",{attrs:{title:"Cordova Camera Plugin",url:"https://www.youtube.com/embed/jlL1RuW9Kiw"}}),t._v(" "),a("p",[a("a",{attrs:{href:"https://gist.github.com/prof3ssorSt3v3/75092fbba5428fb9369fa02b75fa73b2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code Gist from the Camera video"),a("OutboundLink")],1)]),t._v(" "),a("YouTube",{attrs:{title:"Cordova Camera Permissions for iOS",url:"https://www.youtube.com/embed/mMgjaPeof5c"}}),t._v(" "),a("p",[t._v("Here is the sample permission install that you need for iOS. Note that there are two permissions. The first one is for general use of the Camera. The second is for being able to access the PhotoLibrary.")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),a("p",[t._v("Things to note about this path:")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),a("p",[t._v("When taking a picture on Android, it is possible for some devices to lack sufficient memory to keep your app in the background while taking and saving a picture.")]),t._v(" "),t._m(13),t._v(" "),a("p",[t._v("For Cameras taking pictures it means we might need to use the resume event to capture the image coming back from the Camera app and then pass it to our Camera success callback ourselves.")]),t._v(" "),a("p",[t._v("Here is "),a("a",{attrs:{href:"https://cordova.apache.org/docs/en/dev/guide/platforms/android/index.html#example",target:"_blank",rel:"noopener noreferrer"}},[t._v("an example of this code"),a("OutboundLink")],1)]),t._v(" "),a("YouTube",{attrs:{title:"Cordova pause and resume events",url:"https://www.youtube.com/embed/FfYXu-lhQ_A"}}),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("There is also a method on iOS that you can call to clean up temporary image files that may have been created when you are taking a pictures and returning a file URI.")]),t._v(" "),t._m(15)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"cordova-camera-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cordova-camera-plugin","aria-hidden":"true"}},[this._v("#")]),this._v(" Cordova Camera Plugin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cordova plugin add cordova-plugin-camera\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("First, iOS Simulators will "),e("strong",[this._v("NOT")]),this._v(" allow you to access the camera.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Second, be aware that there are two similarly named Objects in the plugin. "),e("code",[this._v("camera")]),this._v(" and "),e("code",[this._v("Camera")]),this._v(" are both objects but they have different purposes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('cordova plugin add cordova-plugin-camera --variable CAMERA_USAGE_DESCRIPTION="your usage message"  --variable PHOTOLIBRARY_USAGE_DESCRIPTION="your usage message"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"saving-the-camera-image"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#saving-the-camera-image","aria-hidden":"true"}},[this._v("#")]),this._v(" Saving the Camera Image")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After you take a picture with the Android Emulator Camera, if you have selected "),e("code",[this._v("Camera.destinationType.FILE_URI")]),this._v(" as the result from calling the camera, then you will get back a string that looks something like this:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("file:///storage/emulated/0/Android/data/ca.edumedia.griffis.cordcam/cache/1548683871642.jpg\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("it starts with "),a("code",[t._v("file:///")]),t._v(".")]),t._v(" "),a("li",[t._v("Your "),a("code",[t._v("package name")]),t._v(" is part of the path. This is where your application is installed on the device / emulator.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("cache")]),t._v(" folder is where it is saved by default.")]),t._v(" "),a("li",[t._v("If you have the "),a("code",[t._v("cordova-plugin-file")]),t._v(" installed then you can use "),a("code",[t._v("cordova.file.cacheDirectory")]),t._v(" as a reference property for that cache folder.")]),t._v(" "),a("li",[t._v("To permanently store images or videos or other files we would use "),a("code",[t._v("cordova.file.dataDirectory")]),t._v(" as the folder which is private to the application but considered permanent storage.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"sample-options-for-the-camera"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-options-for-the-camera","aria-hidden":"true"}},[this._v("#")]),this._v(" Sample Options for the Camera")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When you are calling the "),e("code",[this._v("getPicture()")]),this._v(" method there are lots of possible options that you can pass to the method as the third parameter. Here is a sample.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" options "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  quality"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("80")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  destinationType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Camera"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DestinationType"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("FILE_URI")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  encodingType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Camera"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EncodingType"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("PNG")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mediaType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Camera"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MediaType"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("PICTURE")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  sourceType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Camera"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PictureSourceType"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("CAMERA")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  allowEdit"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  targetWidth"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("300")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  targetHeight"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("300")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"potential-issues"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#potential-issues","aria-hidden":"true"}},[this._v("#")]),this._v(" Potential Issues")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("All Cordova apps have "),a("code",[t._v("pause")]),t._v(" and "),a("code",[t._v("resume")]),t._v(" events that we can listen for. When an app is shut down by the user or the system it will fire the "),a("code",[t._v("pause")]),t._v(" event. When it is brought back to life, the "),a("code",[t._v("resume")]),t._v(" event will fire.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"additional-issue-on-ios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#additional-issue-on-ios","aria-hidden":"true"}},[this._v("#")]),this._v(" Additional Issue on iOS")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("cleanup")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" successCallback"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errorCallback "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="cordova-camera.md";e.default=n.exports}}]);